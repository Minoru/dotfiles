-- General idea here is that GUI program names starts with capital
aliases (
      "chromium"       -> "Chromium"
    , "Navigator"      -> "Firefox"
    , "anki"           -> "Anki"
    , "gl"             -> "Mpv"
    )
-- A rule that probably everybody wants. Being inactive for over a minute
-- causes this sample to be ignored by default.
$idle > 60 ==> tag inactive,

-- Tag some most used programs
current window ($program == "urxvt" && $title =~ /^(|\[w+\] )(|\(\w+\) )vim(| .+)$/ )
    ==> tag Program:vim,
current window ($program == "urxvt" && $title =~ /^(|\[[^]]+\] )irssi(| .+)$/ )
    ==> tag Program:irssi,
current window (
    $program == "urxvt" &&
    $title =~ /^(|\[[^]]+\] )mcabber(| .+)$/ )
    ==> tag Program:mcabber,
current window ($program == "urxvt" && $title =~ /^(|\[[^]]+\] )mutt(| .+)$/ )
    ==> tag Program:mutt,

-- when tmux is running, zsh includes the session name in the title of the
-- window. We conclude that I'm using tmux when we can observe the session name
-- in the terminal window's title
current window ($program == "urxvt" && $title =~ /^(|\[.*\] )\(.*\) .*$/ )
    ==> tag Program:tmux,

-- Activities
current window ($program == "urxvt" && $title =~ /^(|\[[^]]+\] )irssi(| .+)$/ )
    ==> tag Activity:chatting,
current window (
    $program == "urxvt" &&
    $title =~ /^(|\[[^]]+\] )mcabber(| .+)$/ )
    ==> tag Activity:chatting,
current window (
    $program == ["chromium", "Navigator"] &&
    ! ($title =~ /(^| - )YouTube - (Chromium|Vimperator)$/) )
    ==> tag Activity:web_browsing,
current window (
    $program == ["chromium", "Navigator"] &&
    $title =~ /(^| - )YouTube - (Chromium|Vimperator)$/ )
    ==> tag Activity:watching_videos,
current window $program == "gl" ==> tag Activity:watching_videos,
current window ( $program == "urxvt" && $title == "zsh" ) ==> tag Activity:terminal,
current window ($program == "urxvt" && $title =~ /^(|\[w+\] )(|\(\w+\) )vim(| .+)$/ )
    ==> tag Activity:text_editing,
-- Debug rule, used as catch-all to detect some new patterns  and uncatched apps
-- tag Activity:other_$current.program_$current.title,

-- Simple rule that just tags the current program
tag Program:$current.program,

-- Another simple rule, just tags the current desktop (a.k.a. workspace)
tag Desktop:$desktop,
